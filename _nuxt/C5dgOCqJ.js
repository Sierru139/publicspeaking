import{a as I,_}from"./DZ3XWj07.js";import{w as v,y as k,B as w}from"./h4vBiQz9.js";import{_ as P}from"./Dg81HNA7.js";import{_ as V}from"./DE2d9Bwb.js";import{a5 as T,am as D,d as a,f as r,e as s,a6 as u,j as M,h as m,t as p,al as q,ag as c,ah as F,ai as C}from"./CyOQlOYI.js";import{u as B}from"./BJjofHG0.js";import{D as O}from"./jhqC_Ljb.js";const j={props:{isVariantDescriptionShown:{type:Boolean,default:!1},isItemsShown:{type:Boolean,default:!1},isMultipleItems:{type:Boolean,default:!1},itemsType:{type:String,default:"variant"},itemsListType:{type:String,default:"radio"},isItemsPriceShown:{type:Boolean,default:!1},bundles:{type:Array,default(){return[]}},bundlesObjects:{type:Array,default(){return[]}},variants:{type:Array,default(){return[]}},variantsObjects:{type:Array,default(){return[]}},isItemsImagesShown:{type:Boolean,default:!1},itemsTitle:{type:String,default:"Pilih Paket"},items:{type:Array,default(){return[]}}},data(){let i=k(this.items),n="";return this.itemsType==="bundle"?i=this.bundlesObjects.map((e,d)=>({id:e.id,uniqueId:e.unique_id,name:e.name,publicName:e.bundle.public_name,price:w(e.price.toString()),rawPrice:e.price,bundlelines:e.bundle.bundlelines,isSelected:d===0,qty:1,images:e.bundle.images,image:e.bundle.images.length>0&&e.bundle.images[0]||null,weight_bump:e.bundle.weight_bump})):i=this.variantsObjects.map((e,d)=>({id:e.id,uniqueId:e.unique_id,name:e.name,publicName:e.name,description:e.description,richDescription:e.rich_description,price:w(e.price.toString()),rawPrice:e.price,isSelected:d===0,qty:1,images:e.images,image:e.images[0]||null,weight:e.weight,itemType:e.item_type})),n=i.length>0?i[0].id:null,{isPreviewScreenShown:!1,itemToPreview:null,innerItems:i,innerSelectedItem:n}},computed:{...D(B)},watch:{itemsListType(){this.innerSelectedItem=null},innerItems:{handler(i){this.formStore.setItemsFromMainFormItems(i)},immediate:!0},innerSelectedItem:{handler(i){this.formStore.setSelectedItemFromMainFormItems(i)},immediate:!0},isMultipleItems:{handler(i){this.formStore.setIsMultipleItemsFromMainFormItems(i)},immediate:!0},itemsType:{handler(i){this.formStore.setItemsTypeFromMainFormItems(i)},immediate:!0},bundlesObjects:{handler(i){this.formStore.setBundlesObjectsFromMainFormItems(i)},immediate:!0},variantsObjects:{handler(i){this.formStore.setVariantsObjectsFromMainFormItems(i)},immediate:!0}},mounted(){},methods:{preventZeroQtyOnItems(i){this.$toast.showMessage({message:"Jumlah barang tidak boleh 0",color:"danger"}),this.innerItems[i].qty=1},onRequestPreview(i){this.itemToPreview=i,this.isPreviewScreenShown=!0},sanitizeHtml(i){return O.sanitize(i)}}},L={key:0},N={key:0,class:"flex w-full items-center"},U={class:"text-[20px] font-[700] leading-[22px] text-black-1100"},z=["innerHTML"],H={key:1,class:"w-full text-[14px] font-[500] leading-[19px] text-black-200"},A=["onClick"],R={key:3,class:c("mt-[16px] flex w-full flex-wrap space-y-[8px] text-[14px] leading-[20px]")},Q=["onClick"],Z={class:"w-full text-[16px] font-[500] leading-[22px]"},E=["innerHTML"],J={key:1,class:"w-full text-[14px] font-[500] leading-[19px] text-black-200"},G=["onClick"];function K(i,n,e,d,l,o){const f=I,y=_,x=v,b=P,S=V;return e.isItemsShown&&(e.itemsType==="bundle"&&e.bundles.length>0||e.itemsType==="variant"&&e.variants.length>0)?(s(),a("div",L,[e.itemsTitle?(s(),a("div",N,[m("p",U,p(e.itemsTitle),1),n[4]||(n[4]=m("div",{class:"ml-[10px] h-[2px] w-full flex-1 bg-black-150"},null,-1))])):r("",!0),e.itemsListType==="radio"&&!e.isMultipleItems?(s(),u(f,{key:1,modelValue:l.innerSelectedItem,"onUpdate:modelValue":n[0]||(n[0]=t=>l.innerSelectedItem=t),collections:l.innerItems,"is-have-initial":"","is-with-sub-text":e.isItemsPriceShown&&!e.isVariantDescriptionShown,"layout-class":e.isVariantDescriptionShown?"items-start":"items-center","radio-button-class":e.isVariantDescriptionShown&&"mt-2","value-field":"id","text-field":"publicName","sub-text-field":"price",class:"mt-[16px]","avatar-field":"image","avatar-class":"w-[44px] h-[44px] object-cover rounded","is-with-avatar":e.isItemsImagesShown,"text-size":"text-[14px]",onImageClick:n[1]||(n[1]=t=>o.onRequestPreview({...t,images:t.images.length===0?[`${i.$cdnUrl}/assets/images/placeholder.png`]:t.images}))},{custom:q(({item:t})=>[e.isVariantDescriptionShown&&t.richDescription?(s(),a("div",{key:0,class:c(t.description?"html-viewer text-[16px] py-[8px]":""),innerHTML:o.sanitizeHtml(t.richDescription)},null,10,z)):r("",!0),e.isVariantDescriptionShown?(s(),a("span",H,p(t.price),1)):r("",!0),e.isItemsImagesShown?(s(),a("p",{key:2,class:"w-[max-content] cursor-pointer text-[12px] font-[500] leading-[18px] text-primary",onClick:()=>o.onRequestPreview({...t,images:t.images.length===0?[`${i.$cdnUrl}/assets/images/placeholder.png`]:t.images})}," Lihat Detail ",8,A)):r("",!0)]),_:1},8,["modelValue","collections","is-with-sub-text","layout-class","radio-button-class","is-with-avatar"])):e.isMultipleItems?(s(),a("div",R,[(s(!0),a(F,null,C(l.innerItems,(t,h)=>(s(),a("div",{key:`items-${h}`,class:"w-full rounded border-2 border-black-150 bg-gray-150 p-[12px]"},[m("div",{class:c(["flex w-full",[e.isVariantDescriptionShown?"items-start":"items-center"]])},[m("div",{class:c(["h-[18px] w-[18px] cursor-pointer rounded border-[2px] p-[1px]",[e.isVariantDescriptionShown?"mt-3":"",t.isSelected?"border-primary bg-primary":"border-black-200 bg-white"]]),onClick:()=>{t.isSelected=!t.isSelected,t.qty=1}},null,10,Q),e.isItemsImagesShown?(s(),u(x,{key:0,src:t.images[0],alt:"image",class:"ml-[10px] h-[44px] w-[44px] cursor-pointer rounded object-cover",loading:"lazy",placeholder:`${i.$cdnUrl}/assets/images/placeholder.png`,onClick:()=>o.onRequestPreview({...t,images:t.images.length===0?[`${i.$cdnUrl}/assets/images/placeholder.png`]:t.images})},null,8,["src","placeholder","onClick"])):r("",!0),m("div",{class:c(["flex w-full flex-1 flex-col space-y-[4px]",e.isItemsImagesShown?"ml-[10px]":"ml-[16px]"])},[m("span",Z,p(t.publicName),1),e.isVariantDescriptionShown&&t.richDescription?(s(),a("div",{key:0,class:"html-viewer text-[16px] py-[8px]",innerHTML:o.sanitizeHtml(t.richDescription)},null,8,E)):r("",!0),e.isItemsPriceShown?(s(),a("span",J,p(t.price),1)):r("",!0),e.isItemsImagesShown?(s(),a("p",{key:2,class:"w-full cursor-pointer text-[12px] font-[500] leading-[18px] text-primary",onClick:()=>o.onRequestPreview({...t,images:t.images.length===0?[`${i.$cdnUrl}/assets/images/placeholder.png`]:t.images})}," Lihat Detail ",8,G)):r("",!0)],2),t.isSelected?(s(),u(b,{key:1,modelValue:t.qty,"onUpdate:modelValue":g=>t.qty=g,type:"number",placeholder:"Qty","hide-message":"",class:"min-w-[50px] max-w-[50px]",bg:"bg-white",rounded:"rounded",onBlur:g=>!t.qty||t.qty==="0"?o.preventZeroQtyOnItems(h):null},null,8,["modelValue","onUpdate:modelValue","onBlur"])):r("",!0)],2)]))),128))])):(s(),u(y,{key:2,modelValue:l.innerSelectedItem,"onUpdate:modelValue":n[2]||(n[2]=t=>l.innerSelectedItem=t),options:l.innerItems,"value-field":"id","text-field":"publicName","is-with-sub-text":e.isItemsPriceShown,"sub-text-field":"price",class:"mt-[16px]","text-size":"text-[14px]",height:"min-h-[48px] h-[48px] max-h-[48px]","height-with-sub-text":"min-h-[53px] h-[53px] max-h-[53px]",rounded:"rounded"},null,8,["modelValue","options","is-with-sub-text"])),M(S,{modelValue:l.isPreviewScreenShown,"onUpdate:modelValue":n[3]||(n[3]=t=>l.isPreviewScreenShown=t),images:l.itemToPreview?l.itemToPreview.images:[],title:l.itemToPreview?l.itemToPreview.publicName:""},null,8,["modelValue","images","title"])])):r("",!0)}const se=T(j,[["render",K]]);export{se as default};
