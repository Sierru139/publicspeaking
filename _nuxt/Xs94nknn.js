import{w as f}from"./h4vBiQz9.js";import{a5 as d,d as o,e as c,a6 as u,f as s,n as r,ag as m,h as y,t as p,ax as n}from"./CyOQlOYI.js";const b={props:{isBuilder:{type:Boolean,default:!1},username:{type:String,default:""},src:{type:String,default:null},alt:{type:String,default:null},config:{type:Object,default:()=>null},ratio:{type:String,default:"4 / 3"},width:{type:[String,Number],default:100},justifyContent:{type:String,default:"center"},objectFit:{type:String,default:"object-cover"}},data(){return{keyNa:0,imgSrc:this.src?{src:this.src}:null,calculatedRatio:this.config.width/this.config.height}},computed:{marginImg(){let e="mx-auto";switch(this.justifyContent){case"start":e="mr-auto";break;case"end":e="ml-auto";break}return e}},watch:{src(e){this.resetImg(e,this.width)},width(e){this.resetImg(this.src,e)}},methods:{resetImg(e,a){this.imgSrc=e?{src:e,sizes:{lg:a}}:null,this.keyNa=this.keyNa+1},imgClickAction(){var e,a;if(this.config.clickEvent==="freelink"){const t=document.createElement("a");t.href=this.config.to.substring(0,4)==="http"?this.config.to:`http://${this.config.to}`,this.config.isNewTab?t.target="_blank":t.target="_top",document.body.appendChild(t),t.click()}else if(this.config.clickEvent==="target"){const t=document.createElement("a");t.href=this.config.to,document.body.appendChild(t),t.click()}else if(this.config.clickEvent==="otherPage")if(this.isBuilder){let t=this.$config.baseUrlLp.replace("http://","").replace("https://","");t.includes("app.")&&(t=t.replace("app.",""));const i=document.createElement("a");i.href=`http://${this.username}.${t}/${(e=this.config.otherPageObject)==null?void 0:e.slug}`,this.config.isNewTab?i.target="_blank":i.target="_top",document.body.appendChild(i),i.click()}else{const t=document.createElement("a");t.href=`http://${location.host}/${(a=this.config.otherPageObject)==null?void 0:a.slug}${Object.keys((this._.provides[n]||this.$route).query).length>0?`?${Object.keys((this._.provides[n]||this.$route).query).map(i=>`${i}=${(this._.provides[n]||this.$route).query[i]}`).join("&")}`:""}`,this.config.isNewTab?t.target="_blank":t.target="_top",document.body.appendChild(t),t.click()}},onImageClick(){this.isBuilder||this.imgClickAction()}}},k={key:1,class:"absolute bottom-0 w-full bg-black bg-opacity-50 px-[16px] py-[8px]"},_={class:"text-center text-[14px] font-[400] leading-[19px] text-white"};function w(e,a,t,i,h,l){const g=f;return c(),o("div",{class:"relative",style:r(`justify-content: ${t.justifyContent}; align-self: ${t.justifyContent}; width: ${t.width}%;`)},[t.config?(c(),u(g,{key:0,fetchpriority:t.config.loadingType!=="lazy"?"high":"auto",src:t.src,alt:t.alt,class:m(["h-full w-full",t.objectFit,l.marginImg,{"cursor-pointer":t.config&&t.config.clickEvent!=="none"}]),width:t.config.width,height:t.config.height,style:r(`aspect-ratio: ${t.ratio==="auto"?h.calculatedRatio:t.ratio}`),format:"webp",quality:"70",loading:t.config.loadingType==="lazy"?"lazy":"eager",preload:t.config.loadingType!=="lazy",onClick:l.onImageClick},null,8,["fetchpriority","src","alt","class","width","height","style","loading","preload","onClick"])):s("",!0),t.config&&t.config.caption?(c(),o("div",k,[y("p",_,p(t.config.caption),1)])):s("",!0)],4)}const x=d(b,[["render",w]]);export{x as default};
