import{F as it,G as rt,k as st,H as ot,r as ut,$ as dt,A as et,D as tt,w as ct}from"./h4vBiQz9.js";import{_ as ft}from"./Dg81HNA7.js";import{aO as ht,ao as mt,ar as Re,aP as vt,aQ as bt,aq as lt,aR as xt,aS as gt,aT as pt,aG as yt,r as W,aD as wt,c as ge,q as pe,p as kt,X as St,d as F,e as p,af as j,h as f,f as N,ag as I,g as n,i as Ce,t as H,k as de,l as ce,j as re,al as fe,aI as ze,ah as Ne,ai as nt,v as De,a6 as we,aU as Tt,a5 as Ft,n as Pe}from"./CyOQlOYI.js";var Ie,je;function Ct(){if(je)return Ie;je=1;var e=ht(),o=function(){return e.Date.now()};return Ie=o,Ie}var Oe,Qe;function It(){if(Qe)return Oe;Qe=1;var e=mt(),o=Ct(),i=it(),l="Expected a function",u=Math.max,r=Math.min;function y(v,g,w){var b,M,E,k,x,L,C=0,A=!1,O=!1,Q=!0;if(typeof v!="function")throw new TypeError(l);g=i(g)||0,e(w)&&(A=!!w.leading,O="maxWait"in w,E=O?u(i(w.maxWait)||0,g):E,Q="trailing"in w?!!w.trailing:Q);function P(c){var S=b,D=M;return b=M=void 0,C=c,k=v.apply(D,S),k}function V(c){return C=c,x=setTimeout(t,g),A?P(c):k}function $(c){var S=c-L,D=c-C,q=g-S;return O?r(q,E-D):q}function G(c){var S=c-L,D=c-C;return L===void 0||S>=g||S<0||O&&D>=E}function t(){var c=o();if(G(c))return s(c);x=setTimeout(t,$(c))}function s(c){return x=void 0,Q&&b?P(c):(b=M=void 0,k)}function d(){x!==void 0&&clearTimeout(x),C=0,b=L=M=x=void 0}function T(){return x===void 0?k:s(o())}function B(){var c=o(),S=G(c);if(b=arguments,M=this,L=c,S){if(x===void 0)return V(L);if(O)return clearTimeout(x),x=setTimeout(t,g),P(L)}return x===void 0&&(x=setTimeout(t,g)),k}return B.cancel=d,B.flush=T,B}return Oe=y,Oe}var Ot=It();const Et=Re(Ot);var Ee,$e;function Vt(){if($e)return Ee;$e=1;var e=vt();function o(i,l){var u=[];return e(i,function(r,y,v){l(r,y,v)&&u.push(r)}),u}return Ee=o,Ee}var Ve,Ue;function Bt(){if(Ue)return Ve;Ue=1;var e=bt(),o=Vt(),i=lt(),l=xt();function u(r,y){var v=l(r)?e:o;return v(r,i(y,3))}return Ve=u,Ve}var Lt=Bt();const Mt=Re(Lt);var Be,Xe;function Wt(){if(Xe)return Be;Xe=1;var e=lt(),o=gt(),i=pt();function l(u){return function(r,y,v){var g=Object(r);if(!o(r)){var w=e(y,3);r=i(r),y=function(M){return w(g[M],M,g)}}var b=u(r,y,v);return b>-1?g[w?r[b]:b]:void 0}}return Be=l,Be}var Le,Ge;function At(){if(Ge)return Le;Ge=1;var e=Wt(),o=rt(),i=e(o);return Le=i,Le}var Ht=At();const Me=Re(Ht);var We={},Ke;function Nt(){return Ke||(Ke=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.emulateTab=void 0;var o=new Array("offsetHeight","scrollHeight","clientHeight"),i=!0,l=/text|password|search|tel|url/;function u(){var t=g()||document.body,s=b(t);return y(t,s)}e.emulateTab=u,function(t){t.from=r,t.to=function(s,d){return d===void 0&&(d=!1),r(g()).to(s,d)},t.backwards=function(){return t.to(w(g()),i)},t.forwards=function(){return t()},t.findSelectableElements=M}(u=e.emulateTab||(e.emulateTab={}));function r(t){return t===void 0&&(t=document.body),{toPreviousElement:function(){return y(t,w(),i)},toNextElement:function(){return y(t,b(t))},to:function(s,d){return d===void 0&&(d=!1),y(t,s,d)}}}function y(t,s,d){d===void 0&&(d=!1);var T=t.dispatchEvent(v("keydown",d));if(T){if(t.blur(),s.focus(),document.activeElement!==s)try{document.activeElement=s}catch{console.warn("could not switch active element")}s instanceof HTMLInputElement&&l.test(s.type)&&(s.selectionStart=0);var B=v("keyup",d);return s.dispatchEvent(B),!0}else return t.dispatchEvent(v("keypress",d)),t.dispatchEvent(v("keyup",d)),!1}function v(t,s){return s===void 0&&(s=!1),new KeyboardEvent(t,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:s})}function g(){var t=document.activeElement;return t instanceof HTMLElement?t:void 0}function w(t){t===void 0&&(t=document.body);var s=M();if(s.length<1)throw new Error("no selectable elements found");var d=s.indexOf(t),T=(d>0?d:s.length)-1,B=s[T];return B}function b(t){t===void 0&&(t=document.body);var s=M();if(s.length<1)throw new Error("no selectable elements found");var d=s.indexOf(t),T=d+1<s.length?d+1:0,B=s[T];return B}function M(){var t=Array.from(document.querySelectorAll("*")).filter(E);x();var s=t.filter(O(Q,k,P,V,$)).reduce(function(T,B){var c=B.tabIndex,S=T[""+c]||{tabIndex:c,elements:[]};return S.elements.push(B),T[c]=S,T},{}),d=Object.values(s).sort(G).reduce(function(T,B){return T.concat(B.elements)},new Array);return d}var E=function(t){return t instanceof HTMLElement},k,x=function(){var t=C();t?k=L(t):k=A,x=function(){}},L=function(t){return function(s){var d=s[t];return!!d&&typeof d=="number"&&d>0}};function C(t){t===void 0&&(t=document.body);var s=t,d=o.find(function(q){var h=s[q];return h&&typeof h=="number"&&h>0});if(d)return d;for(var T=t.children,B=0,c=Array.from(T);B<c.length;B++){var S=c[B],D=C(S);if(D)return D}}var A=function(t){if(!t.isConnected)return!1;if(t.tagName==="BODY")return!0;var s=getComputedStyle(t);if(s.display==="none"||s.visibility==="collapse")return!1;var d=t.parentElement;return d?A(d):!1};function O(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return function(d){return!t.some(function(T){return!T(d)})}}function Q(t){return typeof t.tabIndex=="number"&&t.tabIndex>=0}var P=function(t){return!t.disabled};function V(t){return!(t instanceof HTMLAnchorElement)||!!t.href||t.getAttribute("tabIndex")!==null}var $=function(t){return getComputedStyle(t).visibility!=="collapse"};function G(t,s){if(t.tabIndex>0&&s.tabIndex>0)return t.tabIndex-s.tabIndex;if(t.tabIndex>0)return-t.tabIndex;if(s.tabIndex>0)return s.tabIndex;throw new Error("same tab index for two groups")}}(We)),We}var Ye=Nt();const Je=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Ze=(e,o)=>(!o||e!=="hidden")&&e!=="visible"&&e!=="clip",Ae=(e,o)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const i=getComputedStyle(e,null);return Ze(i.overflowY,o)||Ze(i.overflowX,o)||(l=>{const u=(r=>{if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}})(l);return!!u&&(u.clientHeight<l.scrollHeight||u.clientWidth<l.scrollWidth)})(e)}return!1},ye=(e,o,i,l,u,r,y,v)=>r<e&&y>o||r>e&&y<o?0:r<=e&&v<=i||y>=o&&v>=i?r-e-l:y>o&&v<i||r<e&&v>i?y-o+u:0,Dt=e=>{const o=e.parentElement;return o??(e.getRootNode().host||null)},_e=(e,o)=>{var i,l,u,r;if(typeof document>"u")return[];const{scrollMode:y,block:v,inline:g,boundary:w,skipOverflowHiddenElements:b}=o,M=typeof w=="function"?w:q=>q!==w;if(!Je(e))throw new TypeError("Invalid target");const E=document.scrollingElement||document.documentElement,k=[];let x=e;for(;Je(x)&&M(x);){if(x=Dt(x),x===E){k.push(x);break}x!=null&&x===document.body&&Ae(x)&&!Ae(document.documentElement)||x!=null&&Ae(x,b)&&k.push(x)}const L=(l=(i=window.visualViewport)==null?void 0:i.width)!=null?l:innerWidth,C=(r=(u=window.visualViewport)==null?void 0:u.height)!=null?r:innerHeight,{scrollX:A,scrollY:O}=window,{height:Q,width:P,top:V,right:$,bottom:G,left:t}=e.getBoundingClientRect(),{top:s,right:d,bottom:T,left:B}=(q=>{const h=window.getComputedStyle(q);return{top:parseFloat(h.scrollMarginTop)||0,right:parseFloat(h.scrollMarginRight)||0,bottom:parseFloat(h.scrollMarginBottom)||0,left:parseFloat(h.scrollMarginLeft)||0}})(e);let c=v==="start"||v==="nearest"?V-s:v==="end"?G+T:V+Q/2-s+T,S=g==="center"?t+P/2-B+d:g==="end"?$+d:t-B;const D=[];for(let q=0;q<k.length;q++){const h=k[q],{height:R,width:K,top:Y,right:se,bottom:ee,left:_}=h.getBoundingClientRect();if(y==="if-needed"&&V>=0&&t>=0&&G<=C&&$<=L&&V>=Y&&G<=ee&&t>=_&&$<=se)return D;const te=getComputedStyle(h),le=parseInt(te.borderLeftWidth,10),ne=parseInt(te.borderTopWidth,10),ae=parseInt(te.borderRightWidth,10),oe=parseInt(te.borderBottomWidth,10);let J=0,Z=0;const ue="offsetWidth"in h?h.offsetWidth-h.clientWidth-le-ae:0,ie="offsetHeight"in h?h.offsetHeight-h.clientHeight-ne-oe:0,he="offsetWidth"in h?h.offsetWidth===0?0:K/h.offsetWidth:0,me="offsetHeight"in h?h.offsetHeight===0?0:R/h.offsetHeight:0;if(E===h)J=v==="start"?c:v==="end"?c-C:v==="nearest"?ye(O,O+C,C,ne,oe,O+c,O+c+Q,Q):c-C/2,Z=g==="start"?S:g==="center"?S-L/2:g==="end"?S-L:ye(A,A+L,L,le,ae,A+S,A+S+P,P),J=Math.max(0,J+O),Z=Math.max(0,Z+A);else{J=v==="start"?c-Y-ne:v==="end"?c-ee+oe+ie:v==="nearest"?ye(Y,ee,R,ne,oe+ie,c,c+Q,Q):c-(Y+R/2)+ie/2,Z=g==="start"?S-_-le:g==="center"?S-(_+K/2)+ue/2:g==="end"?S-se+ae+ue:ye(_,se,K,le,ae+ue,S,S+P,P);const{scrollLeft:ve,scrollTop:xe}=h;J=me===0?0:Math.max(0,Math.min(xe+J/me,h.scrollHeight-R/me+ie)),Z=he===0?0:Math.max(0,Math.min(ve+Z/he,h.scrollWidth-K/he+ue)),c+=xe-J,S+=ve-Z}D.push({el:h,top:J,left:Z})}return D},Rt=e=>e===!1?{block:"end",inline:"nearest"}:(o=>o===Object(o)&&Object.keys(o).length!==0)(e)?e:{block:"start",inline:"nearest"};function He(e,o){if(!e.isConnected||!(u=>{let r=u;for(;r&&r.parentNode;){if(r.parentNode===document)return!0;r=r.parentNode instanceof ShadowRoot?r.parentNode.host:r.parentNode}return!1})(e))return;const i=(u=>{const r=window.getComputedStyle(u);return{top:parseFloat(r.scrollMarginTop)||0,right:parseFloat(r.scrollMarginRight)||0,bottom:parseFloat(r.scrollMarginBottom)||0,left:parseFloat(r.scrollMarginLeft)||0}})(e);if((u=>typeof u=="object"&&typeof u.behavior=="function")(o))return o.behavior(_e(e,o));const l=typeof o=="boolean"||o==null?void 0:o.behavior;for(const{el:u,top:r,left:y}of _e(e,Rt(o))){const v=r-i.top+i.bottom,g=y-i.left+i.right;u.scroll({top:v,left:g,behavior:l})}}const qt=["vid","rules","immediate"],zt=["for"],Pt={key:0,class:"text-red-900",textContent:"*"},jt={class:"flex w-full"},Qt={key:0,class:"flex h-full bg-gray-200 px-[12px]"},$t={class:"whitespace-no-wrap text-grey-dark flex items-center leading-normal"},Ut=["tabindex"],Xt=["disabled"],Gt={class:"w-full truncate"},Kt={key:0,class:"mt-[6px] text-[12px] text-black-200"},Yt=["tabindex"],Jt=["tabindex"],Zt=["tabindex"],_t={class:"truncate"},el={key:0,class:"mt-[6px] text-[12px] text-black-200"},tl=["tabindex"],ll={class:"flex h-full items-center bg-white pr-[6px]"},nl=["tabindex"],al={key:0,disabled:"",class:"p-[8px] text-black-400"},il=["tabindex"],rl=["onClick","onMouseenter"],sl={key:0,class:"h-[2px] w-full bg-gray-400"},ol={key:0,class:"mt-[6px] text-[12px]"},ul={key:2,class:"flex h-[32px] w-full items-center justify-center"},dl=["textContent"],cl={class:"flex h-[32px] w-full items-center justify-center"},fl={key:5,class:"flex w-full items-center justify-center"},hl={class:"py-[8px]"},ml={key:6,class:"flex w-full items-center justify-center"},vl={class:"py-[8px]"},bl=["tabindex"],xl=["disabled"],gl={class:"w-full truncate"},pl={key:0,class:"mt-[6px] text-[12px] text-black-200"},yl=["tabindex"],wl={key:0,class:"flex h-full font-medium"},kl={class:"whitespace-no-wrap text-grey-dark flex items-center bg-black-75 px-3 leading-normal"},Wl={__name:"SclvSelect",props:{modelValue:{type:[String,Number,Boolean],default:null},valueField:{type:String,default:"value"},isPaginated:{type:Boolean,default:!0},textField:{type:String,default:"text"},disabled:{type:Boolean,default:!1},bg:{type:String,default:"bg-gray-150"},id:{type:String,default:null},label:{type:String,default:null},options:{type:Array,default:()=>[]},selectedObject:{type:Object,default:()=>null},prepend:{type:String,default:""},append:{type:String,default:""},name:{type:String,default:null},placeholder:{type:String,default:null},rules:{type:String,default:""},immediate:{type:Boolean,default:!1},hideMessage:{type:Boolean,default:!1},autoHideMessage:{type:Boolean,default:!1},vid:{type:String,default:void 0},labelSize:{type:String,default:"text-[12px]"},textSize:{type:String,default:"text-[14px]"},isWithSubText:{type:Boolean,default:!1},subTextField:{type:String,default:"subText"},small:{type:Boolean,default:!1},isWithAvatar:{type:Boolean,default:!1},avatarField:{type:String,default:null},avatarRight:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!1},placeholderSearch:{type:String,default:"Cari Pilihan"},searchLoadingText:{type:String,default:"Mencari Pilihan ..."},listLoadingText:{type:String,default:"Memuat Pilihan ..."},urlOptions:{type:String,default:""},searchQuery:{type:String,default:"search"},urlQuery:{type:Object,default:()=>({page:1,page_size:25})},noOptionsText:{type:String,default:"Tidak Ada Pilihan"},noResultText:{type:String,default:"Pilihan Tidak Ditemukan"},searchPrepend:{type:String,default:""},plCorrection:{type:String,default:""},searchWrapperClass:{type:String,default:"px-[8px] pt-[8px]"},listWrapperClass:{type:String,default:"px-[8px] py-[13px] md:py-[8px]"},appendListClass:{type:String,default:""},prependListClass:{type:String,default:""},searchMinChar:{type:Number,default:3},changeAsObject:{type:Boolean,default:!1},labelColor:{type:String,default:"text-gray-800"},height:{type:String,default:"min-h-[38px] h-[38px]"},heightWithSubText:{type:String,default:"h-[53px]"},rounded:{type:String,default:"rounded-[10px]"},roundedSm:{type:String,default:"rounded-[8px]"},emptyOptionsOnOpen:{type:Boolean,default:!1},excludeFromList:{type:Array,default:()=>[]},noBorder:{type:Boolean,default:!1},noSpaceDropdownIcon:{type:Boolean,default:!1},placement:{type:String,default:"bottom-start"},baseUrl:{type:String,default:""}},emits:["input","keyup","click","change","focus","blur","update:modelValue","update:selectedObject","search","apply-show"],setup(e,{emit:o}){const i=kt(),l=e,{value:u,errorMessage:r,validate:y,setTouched:v}=yt(l.name||l.label||l.placeholder,l.rules,{initialValue:l.modelValue,validateOnMount:l.immediate}),g=l.modelValue&&!l.urlOptions?Me(l.options,a=>a[l.valueField]===l.modelValue):l.selectedObject;let w=l.small?"pl-[8px]":"pl-[12px]";l.plCorrection&&(w=l.plCorrection);const b=W(!1),M=W([]),E=W(g),k=W(""),x=W(""),L=W([]),C=W({page:1,pageSize:25,...l.urlQuery}),A=W(!1),O=W(!1),Q=W({page:1,pageSize:25,...l.urlQuery}),P=W(w),V=W(-1),$=W(!1),G=W(0),t=W(!1);let s=null;const d=W(),T=W(),B=W();let c=W();const S=W(),D=W([]);wt(B,([{isIntersecting:a}])=>{xe({isVisible:a})});const q=ge(()=>l.id||l.name&&l.label?`${l.name}-${l.label}`:""),h=ge(()=>k.value.length<=Number(l.searchMinChar)-1&&!l.urlOptions?l.options:k.value.length<=Number(l.searchMinChar)-1&&l.urlOptions?L.value:M.value),R=ge(()=>{if(u.value){const a=Me(h.value,m=>m[l.valueField]===u.value);return a?a==null?void 0:a[l.textField]:E==null?void 0:E[l.textField]}return l.placeholder}),K=ge(()=>{if(u.value){const a=Me(h.value,m=>m[l.valueField]===u.value);return a?a==null?void 0:a[l.subTextField]:E==null?void 0:E[l.subTextField]}return""}),Y=o;pe(()=>l.modelValue,a=>{u.value=a}),pe(()=>l.selectedObject,a=>{E.value=a}),pe(()=>l.plCorrection,a=>{P.value=a});const se=()=>{l.disabled||(b.value=!0)},ee=()=>{setTimeout(()=>{b.value=!1},0),T.value.focus(),Ye.emulateTab.backwards()},_=()=>{setTimeout(()=>{b.value=!1},0),T.value.focus(),Ye.emulateTab()},te=()=>{t.value=!0,document.onkeydown=null,b.value=!0},le=()=>{b.value&&(document.onkeydown=ne)},ne=a=>{a=a||window.event,b.value&&(a.keyCode===38&&V.value>0?(ae(),V.value-=1,D.value[V.value]&&He(D.value[V.value],{scrollMode:"if-needed",block:"start",inline:"start"})):a.keyCode===40&&V.value<h.value.length-1?(ae(),V.value+=1,D.value[V.value]&&He(D.value[V.value],{scrollMode:"if-needed",block:"end",inline:"end"})):a.keyCode===13&&V.value>-1&&ve(h.value[V.value]))},ae=()=>{$.value||($.value=!0),document.body.onmousemove||(document.body.onmousemove=()=>{$.value=!1,document.body.onmousemove=null})},oe=()=>{setTimeout(()=>{b.value=!1},0),T.value.focus()},J=()=>{Y("apply-show"),$.value=!1,document.onkeydown=ne,setTimeout(()=>{l.isSearchable?c.value.$el.querySelector("input").focus():S.value.$el.focus()},50),t.value=!1};pe(b,a=>{if(a){document.body.classList.add("overflow-hidden","md:overflow-auto"),G.value=d.value.offsetHeight;const m=st(h.value,U=>U[l.valueField]===u.value);u.value&&m>-1&&setTimeout(()=>{He(D.value[m],{behavior:"smooth",block:"nearest",inline:"center"})},100)}else t.value=!1,document.body.classList.remove("overflow-hidden","md:overflow-auto"),l.emptyOptionsOnOpen&&setTimeout(()=>{k.value.length>Number(l.searchMinChar)-1&&(C.value[l.searchQuery]=null,C.value.page=1,L.value=[],A.value=!1),x.value="",k.value=""},100),y(),v(!0)});const Z=a=>{[38,40].includes(a.keyCode)&&a.preventDefault()},ue=a=>{const m=a.target.value;a.keyCode===13&&a.preventDefault(),l.urlOptions&&(Q.value=Tt(C.value),C.value[l.searchQuery]=m.length>Number(l.searchMinChar)-1?m:null,C.value.page=1),m.length>Number(l.searchMinChar)-1?(O.value=!0,ie(m),x.value=m):x.value.length>m.length&&m.length&&(ie(null,!0),O.value=!0,L.value=[]),Y("search",m)},ie=Et(async function(a,m=!1){if(m){L.value=[],x.value="",A.value=!1,O.value=!1;return}await he(a),V.value=-1,O.value=!1},500),he=async a=>{if(l.urlOptions){const m=await qe();M.value=m}else{const m=await at(a);M.value=m}},me=a=>{V.value=a},ve=a=>{(a==null?void 0:a[l.valueField])!==u.value&&(E.value=a,u.value=a==null?void 0:a[l.valueField],Y("update:modelValue",l.changeAsObject?E.value:u.value),Y("change",l.changeAsObject?E.value:u.value),Y("update:selectedObject",E.value)),T.value.focus(),b.value=!1},xe=async({isVisible:a})=>{if(!O.value&&a&&!A.value&&(!l.emptyOptionsOnOpen||k.value.length>=Number(l.searchMinChar))){const m=await qe();k.value.length<=Number(l.searchMinChar)-1&&l.urlOptions?L.value=[...L.value,...m]:M.value=[...M.value,...m]}},at=a=>{const m=new RegExp(a,"i");return Mt(l.options,U=>m.test(U[l.textField]))},qe=async()=>{const{page:a,pageSize:m}=C.value,U={...l.urlQuery,page:a,page_size:m};U[l.searchQuery]=C.value[l.searchQuery];const ke=ot(U),Se=ut(ke),Te=`${l.baseUrl||i.public.nexusApiUrl}${l.urlOptions}?${Se}`;s&&s.abort("replace new request");try{s=new AbortController;const X=await dt(Te,{signal:s.signal});if(l.isPaginated){const z={...C.value,page:C.value.page+1};return C.value.page=Number(z.page),C.value.pageSize=Number(z.pageSize),A.value=X.data.results.length===0,X.data.results}else return A.value=!0,X.data}catch(X){return X.name==="AbortError"&&console.error(X),[]}};return(a,m)=>{const U=et,ke=ft,Se=St("VDropdown"),Te=tt;return p(),F("fieldset",{ref:"provider",vid:e.vid,rules:e.rules,class:I(["relative w-full",{"mb-[3px]":!e.hideMessage}]),immediate:e.immediate,"detect-input":!1},[j(a.$slots,"label",de(ce({idFix:n(q)})),()=>[e.label?(p(),F("p",{key:0,for:n(q),class:I(["mb-[10px] block font-medium",[e.labelSize,e.labelColor]])},[Ce(H(e.label)+" ",1),e.label&&e.rules.split("|").includes("required_selection")?(p(),F("span",Pt)):N("",!0)],10,zt)):N("",!0)]),f("div",{ref:"selectWrapper",class:"select-wrapper relative flex w-full flex-col",onClick:m[2]||(m[2]=X=>Y("click"))},[f("div",jt,[j(a.$slots,"prepend-outer"),f("div",{class:I(["relative flex w-full transform flex-wrap items-center overflow-hidden transition duration-100 ease-in-out",[e.textSize]])},[j(a.$slots,"prepend",{},()=>[e.prepend?(p(),F("div",Qt,[f("span",$t,H(e.prepend),1)])):N("",!0)]),re(Te,{id:n(q),ref:"buttonSelect",class:"flex w-full cursor-pointer items-center","fallback-tag":"div"},{fallback:fe(()=>[f("div",{class:I(["relative h-full w-full overflow-hidden",[{"border-2 focus-within:border-primary":!e.noBorder,"border-red-600":n(r)&&!n(b)&&!e.noBorder,"border-input":!n(r)&&n(b)&&!e.noBorder},e.small?e.roundedSm:e.rounded]])},[f("div",{class:"absolute inset-0 cursor-pointer",onClick:se}),f("div",{tabindex:n(t)?"0":"-1",class:"h-0 w-0",onFocusin:ee},null,40,bl),f("button",{ref_key:"outerTrigger",ref:T,tabindex:"0",class:I(["flex h-full w-full flex-wrap items-center break-all text-left focus:outline-none",[e.disabled?"bg-gray-50 text-black-950":e.bg,{"text-black-400":n(u)===null||n(u)===void 0,"px-[12px]":!e.small,"px-[8px]":e.small},e.isWithSubText?e.heightWithSubText:e.small?"h-[26px]":e.height]]),disabled:e.disabled,type:"button",onFocusin:te,onFocusout:le},[j(a.$slots,"selection",de(ce({selected:n(R),selectedOption:n(E),isWithSubText:e.isWithSubText,subText:n(K),placeholder:e.placeholder})),()=>[f("div",{class:I(["flex flex-col",[{"text-black-400":n(R)===e.placeholder},{"w-full pr-[16px]":!e.noSpaceDropdownIcon}]])},[f("span",gl,H(n(R)),1),e.isWithSubText&&n(R)!==e.placeholder?(p(),F("span",pl,H(n(K)),1)):N("",!0)],2)]),re(U,{icon:"ic-angle-left",class:"absolute right-[-1px] mr-3 rotate-[90deg] text-[8px] text-black-300 md:rotate-[-90deg]"})],42,xl),f("div",{tabindex:n(t)?"0":"-1",class:"h-0 w-0",onFocusin:_},null,40,yl)],2)]),default:fe(()=>[re(Se,{ref:"dropdownComp",shown:n(b),"onUpdate:shown":m[1]||(m[1]=X=>ze(b)?b.value=X:null),placement:e.placement,triggers:[],disabled:e.disabled,class:"h-full flex-1 overflow-y-auto",distance:-n(G),"popper-class":`sclv-dropdown ${e.small?"small-popper":""}`,"positioning-disabled":a.$device.isMobile,"auto-size":"","auto-hide":"",onApplyShow:J},{popper:fe(({hide:X})=>[e.isSearchable?N("",!0):(p(),F(Ne,{key:0},[f("div",{tabindex:n(t)?"-1":"0",class:"h-0 w-0",onFocusin:ee},null,40,Jt),f("div",{ref_key:"mainFocus",ref:S,tabindex:"0",class:"h-0 w-0"},null,512),f("div",{tabindex:n(t)?"-1":"0",class:"h-0 w-0",onFocusin:_},null,40,Zt)],64)),f("button",{tabindex:"-1",class:I(["cloned-input focus:outline-to-black-25 flex h-full w-full flex-wrap items-center break-all rounded-b-[0px] text-left text-gray-900",[n(P),e.disabled?"bg-gray-50 text-black-950":e.bg,{"text-black-400":n(u)===null||n(u)===void 0,"pr-[12px]":!e.small,"pr-[8px]":e.small},e.small?e.roundedSm:e.rounded,e.isWithSubText?e.heightWithSubText:e.small?"max-h-[26px] min-h-[26px]":e.height,e.textSize]]),type:"button",onClick:oe},[j(a.$slots,"selection",de(ce({selected:n(R),selectedOption:n(E),isWithSubText:e.isWithSubText,subText:n(K),placeholder:e.placeholder})),()=>[f("div",{class:I(["flex w-full flex-col pr-[16px]",{"text-black-400":n(R)===e.placeholder}])},[f("span",_t,H(n(R)),1),e.isWithSubText&&n(R)!==e.placeholder?(p(),F("span",el,H(n(K)),1)):N("",!0)],2)]),re(U,{icon:"ic-angle-left",class:"absolute right-[-1px] mr-3 rotate-[-90deg] transform text-[8px] text-black-300 md:rotate-[90deg]"})],2),e.isSearchable?(p(),F("div",{key:1,class:I(e.searchWrapperClass)},[f("div",{tabindex:n(t)?"-1":"0",class:"h-0 w-0",onFocusin:ee},null,40,tl),re(ke,{ref_key:"searchField",ref:c,modelValue:n(k),"onUpdate:modelValue":m[0]||(m[0]=z=>ze(k)?k.value=z:null),placeholder:e.placeholderSearch,"hide-message":"",bg:"bg-white",rounded:"rounded",prepend:e.searchPrepend,onKeydown:Z,onInput:ue},{append:fe(()=>[f("div",ll,[re(U,{icon:"ic-search",class:"ml-auto text-[18px]"})])]),_:1},8,["modelValue","placeholder","prepend"]),f("div",{tabindex:n(t)?"-1":"0",class:"h-0 w-0",onFocusin:_},null,40,nl)],2)):N("",!0),f("ul",{ref:"scrollListWrapper",class:I(["list-dropdown overflow-y-auto font-medium md:max-h-[300px]",[e.textSize,e.listWrapperClass,n($)?"pointer-events-none":""]])},[e.placeholder&&!e.isSearchable&&n(O)&&e.urlOptions?(p(),F("li",al,H(e.placeholder),1)):N("",!0),f("li",{tabindex:a.$slots.prependListItem?"0":"-1",class:I(e.prependListClass)},[j(a.$slots,"prependListItem",de(ce({hide:X,setSelectedList:me,selectedList:n(V)})))],10,il),n(O)?N("",!0):(p(!0),F(Ne,{key:1},nt(n(h).filter(z=>!e.excludeFromList.includes(z[e.valueField])),(z,be)=>(p(),F("li",{key:be,ref_for:!0,ref:Fe=>{n(D)[be]=Fe},class:I(["flex h-[44px] items-center rounded md:h-[32px]",[z[e.valueField]===n(u)?"cursor-pointer text-primary":z[e.valueField]!=="separator"?"cursor-pointer text-gray-700":"",be===n(V)?"bg-gray-150":""]]),onClick:Fe=>z[e.valueField]!=="separator"?ve(z):null,onMouseenter:Fe=>V.value=be},[z[e.valueField]==="separator"?(p(),F("div",sl)):j(a.$slots,"list-item",De({key:1,ref_for:!0},{item:z,index:be}),()=>[f("div",{class:I(["flex w-full items-center",e.listWrapperClass])},[f("span",{class:I(["w-full flex-1 break-words",{"order-1 pr-[10px]":e.avatarRight,"order-2 pl-[10px]":e.isWithAvatar&&!e.avatarRight}])},[Ce(H(z[e.textField])+" ",1),e.isWithSubText?(p(),F("span",ol,H(z[e.subTextField]),1)):N("",!0)],2)],2)])],42,rl))),128)),e.emptyOptionsOnOpen&&n(k).length<Number(e.searchMinChar)?(p(),F("li",ul," Ketik minimal "+H(e.searchMinChar)+" karakter... ",1)):n(O)?(p(),F("li",{key:3,class:"flex h-[32px] w-full items-center justify-center",textContent:H(e.searchLoadingText)},null,8,dl)):N("",!0),n(h).length>0&&e.urlOptions&&!n(O)&&!n(A)&&(!e.emptyOptionsOnOpen||e.emptyOptionsOnOpen&&n(k).length>=Number(e.searchMinChar))?(p(),F("li",{key:4,ref_key:"intersectEl",ref:B},[f("div",cl,H(e.listLoadingText),1)],512)):N("",!0),!n(O)&&(e.urlOptions&&n(A)||!e.urlOptions)&&!n(k)&&!e.emptyOptionsOnOpen&&n(h).length<1?(p(),F("li",fl,[j(a.$slots,"list-empty",{},()=>[f("p",hl,H(e.noOptionsText),1)])])):(e.urlOptions&&n(A)||!e.urlOptions)&&!n(O)&&n(k)&&n(h).length<1?(p(),F("li",ml,[j(a.$slots,"no-result",{},()=>[f("p",vl,H(e.noResultText),1)])])):N("",!0),f("li",{class:I(e.appendListClass)},[j(a.$slots,"appendListItem",de(ce({hide:X})))],2)],2)]),default:fe(()=>[f("div",{class:I(["relative h-full w-full overflow-hidden",[{"border-2 focus-within:border-primary":!e.noBorder,"border-red-600":n(r)&&!n(b)&&!e.noBorder,"border-input":!n(r)&&n(b)&&!e.noBorder},e.small?e.roundedSm:e.rounded]])},[f("div",{class:"absolute inset-0 cursor-pointer",onClick:se}),f("div",{tabindex:n(t)?"0":"-1",class:"h-0 w-0",onFocusin:ee},null,40,Ut),f("button",{ref_key:"outerTrigger",ref:T,tabindex:"0",class:I(["flex h-full w-full flex-wrap items-center break-all text-left focus:outline-none",[e.disabled?"bg-gray-50 text-black-950":e.bg,{"text-black-400":n(u)===null||n(u)===void 0,"px-[12px]":!e.small,"px-[8px]":e.small},e.isWithSubText?e.heightWithSubText:e.small?"h-[26px]":e.height]]),disabled:e.disabled,type:"button",onFocusin:te,onFocusout:le},[j(a.$slots,"selection",de(ce({selected:n(R),selectedOption:n(E),isWithSubText:e.isWithSubText,subText:n(K),placeholder:e.placeholder})),()=>[f("div",{class:I(["flex flex-col",[{"text-black-400":n(R)===e.placeholder},{"w-full pr-[16px]":!e.noSpaceDropdownIcon}]])},[f("span",Gt,H(n(R)),1),e.isWithSubText&&n(R)!==e.placeholder?(p(),F("span",Kt,H(n(K)),1)):N("",!0)],2)]),re(U,{icon:"ic-angle-left",class:"absolute right-[-1px] mr-3 rotate-[90deg] text-[8px] text-black-300 md:rotate-[-90deg]"})],42,Xt),f("div",{tabindex:n(t)?"0":"-1",class:"h-0 w-0",onFocusin:_},null,40,Yt)],2)]),_:3},8,["shown","placement","disabled","distance","popper-class","positioning-disabled"])]),_:3},8,["id"])],2),j(a.$slots,"append",{},()=>[e.append?(p(),F("div",wl,[f("span",kl,H(e.append),1)])):N("",!0)])]),f("div",{ref_key:"containerDropdown",ref:d,class:"-z-1 absolute top-full block h-full w-full min-w-[202px]"},null,512)],512),!e.hideMessage&&!e.autoHideMessage||e.autoHideMessage&&n(r)?(p(),F("span",{key:0,class:I(["break-word mb-[5px] mt-[5px] flex items-center text-red-900",[!n(r)&&"h-[3px]",e.labelSize]])},[n(r)?(p(),we(U,{key:0,icon:"ic-exclamation",class:"mr-[8px] text-[13px] text-red-900"})):N("",!0),Ce(" "+H(n(r)||" "),1)],2)):N("",!0)],10,qt)}}},Sl={props:{modelValue:{type:[String,Number],default:""},name:{type:String,default:""},imgContext:{type:String,default:""},collections:{type:Array,default(){return[]}},initialSelectedIndex:{type:Number,default:0},isHaveInitial:{type:Boolean,default:!1},isWithSubText:{type:Boolean,default:!1},isWithAvatar:{type:Boolean,default:!1},textSize:{type:String,default:"text-[14px]"},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},subTextField:{type:String,default:"subText"},avatarField:{type:String,default:"avatar"},avatarClass:{type:String,default:"w-[50px] h-auto object-fit"},isAvatarIcon:{type:Boolean,default:!1},maxHeight:{type:String,default:""},minHeight:{type:String,default:""},layoutClass:{type:String,default:"items-center"},radioButtonClass:{type:String,default:""},wrapperClass:{type:String,default:"px-[12px] py-[10px]"}},data(){let e=null;if(this.isHaveInitial&&this.modelValue){const o=this.collections.find(i=>i[this.valueField]===this.modelValue);o&&(e=o[this.valueField])}return{radioValue:e,avatarIconKey:new Date().getTime()}},watch:{radioValue(e){this.$emit("update:modelValue",e)},modelValue(e){if(e){const o=this.collections.filter(i=>i[this.valueField]===e)[0];this.radioValue=o[this.valueField]}},collections(){this.avatarIconKey+=1}},mounted(){this.$nextTick(()=>{this.avatarIconKey+=1})},methods:{selectRadioByValue(e){this.radioValue=e},onImgClick(){}}},Tl=["onClick"],Fl={key:0,class:"h-full w-full rounded-full bg-primary"},Cl={key:0},Il={class:"flex w-full items-center"},Ol={class:"text-[16px] font-[500] leading-[22px]"},El={key:0,class:"w-full text-[14px] font-[500] leading-[19px] text-black-200"};function Vl(e,o,i,l,u,r){const y=ct,v=et,g=tt;return p(),F("div",{class:I(`flex w-full flex-wrap ${i.textSize} space-y-[8px] leading-[20px]`)},[(p(!0),F(Ne,null,nt(i.collections,(w,b)=>(p(),F("div",{key:`collection-${b}`,class:I(["w-full cursor-pointer rounded border-2 border-black-150 bg-gray-150",[i.wrapperClass]]),style:Pe({maxHeight:i.maxHeight,minHeight:i.minHeight}),onClick:M=>r.selectRadioByValue(w[i.valueField])},[f("div",{class:I(["flex h-full w-full",[i.layoutClass]])},[f("div",{class:I([[i.radioButtonClass],"mr-[16px] h-[18px] w-[18px] min-w-[18px] rounded-full border-[2px] border-black-200 p-[1px]"])},[w[i.valueField]===u.radioValue?(p(),F("div",Fl)):N("",!0)],2),i.isWithAvatar?(p(),F("div",Cl,[i.isAvatarIcon?(p(),we(g,{key:1},{default:fe(()=>[(p(),we(v,{key:u.avatarIconKey,icon:w[i.avatarField],class:I(i.avatarClass)},null,8,["icon","class"]))]),_:2},1024)):(p(),we(y,{key:0,src:["image","logo"].includes(i.avatarField)?w[i.avatarField]:`https://assets.myscalev.com/icons/${w[i.avatarField]}.png`,alt:"avatar",class:I(i.avatarClass),loading:"lazy",width:"44px",height:"44px",placeholder:i.imgContext==="bank_icon"?"https://assets.myscalev.com/icons/bank_transfer.png":"",style:Pe({aspectRatio:i.imgContext==="courier"?"":"1/1"}),onClick:r.onImgClick},null,8,["src","class","placeholder","style","onClick"]))])):N("",!0),f("div",{class:I(["flex w-full flex-1 flex-col space-y-[4px]",[i.isWithAvatar?i.isAvatarIcon?"ml-[10px]":"ml-[16px]":"ml-[8px]"]])},[f("div",Il,[f("span",Ol,H(w[i.textField]),1),j(e.$slots,"append",De({ref_for:!0},{item:w}))]),i.isWithSubText?(p(),F("span",El,H(w[i.subTextField]),1)):N("",!0),j(e.$slots,"custom",De({ref_for:!0},{item:w}))],2)],2)],14,Tl))),128))],2)}const Al=Ft(Sl,[["render",Vl]]);export{Wl as _,Al as a};
