import{A as Y,I as q}from"./h4vBiQz9.js";import{r as M,E as H,c as z,q as B,aV as U,aG as Z,d as w,e as b,h as O,af as P,f as x,ag as D,g as y,i as T,t as C,a6 as L}from"./CyOQlOYI.js";/**
 * Vue Currency Input 3.2.1
 * (c) 2018-2025 Matthias Stiller
 * @license MIT
 */var k;(function(i){i.symbol="symbol",i.narrowSymbol="narrowSymbol",i.code="code",i.name="name",i.hidden="hidden"})(k||(k={}));var V;(function(i){i.precision="precision",i.thousands="thousands",i.tenThousands="tenThousands",i.millions="millions",i.billions="billions"})(V||(V={}));const A=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),K=i=>i.replace(/^0+(0$|[^0])/,"$1"),G=(i,e)=>(i.match(new RegExp(A(e),"g"))||[]).length,J=(i,e)=>i.substring(0,i.indexOf(e)),j=[",",".","٫","。"],W="(0|[1-9]\\d*)";class Q{constructor(e){var t,n,s,f,o,m;const{currency:d,currencyDisplay:g,locale:r,precision:a,accountingSign:l,useGrouping:p}=e;this.locale=r,this.options={currency:d,useGrouping:p,style:"currency",currencySign:l?"accounting":void 0,currencyDisplay:g!==k.hidden?g:void 0};const h=new Intl.NumberFormat(r,this.options),v=h.formatToParts(123456);this.currency=(t=v.find(({type:c})=>c==="currency"))===null||t===void 0?void 0:t.value,this.digits=[0,1,2,3,4,5,6,7,8,9].map(c=>c.toLocaleString(r)),this.decimalSymbol=(n=v.find(({type:c})=>c==="decimal"))===null||n===void 0?void 0:n.value,this.groupingSymbol=(s=v.find(({type:c})=>c==="group"))===null||s===void 0?void 0:s.value,this.minusSign=(f=h.formatToParts(-1).find(({type:c})=>c==="minusSign"))===null||f===void 0?void 0:f.value,this.decimalSymbol===void 0?this.minimumFractionDigits=this.maximumFractionDigits=0:typeof a=="number"?this.minimumFractionDigits=this.maximumFractionDigits=a:(this.minimumFractionDigits=(o=a==null?void 0:a.min)!==null&&o!==void 0?o:h.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=(m=a==null?void 0:a.max)!==null&&m!==void 0?m:h.resolvedOptions().maximumFractionDigits);const I=c=>J(c,this.digits[1]),N=c=>c.substring(c.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[1])+1);this.prefix=I(h.format(1)),this.suffix=N(h.format(1)),this.negativePrefix=I(h.format(-1)),this.negativeSuffix=N(h.format(-1))}parse(e){if(e){const t=this.isNegative(e);e=this.normalizeDigits(e),e=this.stripCurrency(e,t),e=this.stripSignLiterals(e);const n=this.decimalSymbol?`(?:${A(this.decimalSymbol)}(\\d*))?`:"",s=this.stripGroupingSeparator(e).match(new RegExp(`^${W}${n}$`));if(s&&this.isValidIntegerFormat(this.decimalSymbol?e.split(this.decimalSymbol)[0]:e,Number(s[1])))return+`${t?"-":""}${this.onlyDigits(s[1])}.${this.onlyDigits(s[2]||"")}`}return null}isValidIntegerFormat(e,t){const n={...this.options,minimumFractionDigits:0};return[this.stripCurrency(this.normalizeDigits(t.toLocaleString(this.locale,{...n,useGrouping:!0})),!1),this.stripCurrency(this.normalizeDigits(t.toLocaleString(this.locale,{...n,useGrouping:!1})),!1)].includes(e)}format(e,t={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}){return e!=null?e.toLocaleString(this.locale,{...this.options,...t}):""}toFraction(e){return`${this.digits[0]}${this.decimalSymbol}${this.onlyLocaleDigits(e.substring(1)).substring(0,this.maximumFractionDigits)}`}isFractionIncomplete(e){return!!this.normalizeDigits(this.stripGroupingSeparator(e)).match(new RegExp(`^${W}${A(this.decimalSymbol)}$`))}isNegative(e){return e.startsWith(this.negativePrefix)||this.minusSign===void 0&&(e.startsWith("(")||e.startsWith("-"))||this.minusSign!==void 0&&e.replace("-",this.minusSign).startsWith(this.minusSign)}insertCurrency(e,t){return`${t?this.negativePrefix:this.prefix}${e}${t?this.negativeSuffix:this.suffix}`}stripGroupingSeparator(e){return this.groupingSymbol!==void 0?e.replace(new RegExp(A(this.groupingSymbol),"g"),""):e}stripSignLiterals(e){return this.minusSign!==void 0?e.replace("-",this.minusSign).replace(this.minusSign,""):e.replace(/[-()]/g,"")}stripCurrency(e,t){return e.replace(t?this.negativePrefix:this.prefix,"").replace(t?this.negativeSuffix:this.suffix,"")}normalizeDecimalSeparator(e,t){return j.forEach(n=>{e=e.substring(0,t)+e.substring(t).replace(n,this.decimalSymbol)}),e}normalizeDigits(e){return this.digits[0]!=="0"&&this.digits.forEach((t,n)=>{e=e.replace(new RegExp(t,"g"),String(n))}),e}onlyDigits(e){return this.normalizeDigits(e).replace(/\D+/g,"")}onlyLocaleDigits(e){return e.replace(new RegExp(`[^${this.digits.join("")}]*`,"g"),"")}}class X{constructor(e){this.currencyFormat=e}}class _ extends X{conformToMask(e,t=""){const n=this.currencyFormat.isNegative(e),s=h=>h===""&&n&&!(this.currencyFormat.minusSign===void 0?t===this.currencyFormat.negativePrefix+this.currencyFormat.negativeSuffix:t===this.currencyFormat.negativePrefix),f=h=>{if(s(h))return"";if(this.currencyFormat.maximumFractionDigits>0){if(this.currencyFormat.isFractionIncomplete(h))return h;if(h.startsWith(this.currencyFormat.decimalSymbol))return this.currencyFormat.toFraction(h)}return null};let o=e;o=this.currencyFormat.stripCurrency(o,n),o=this.currencyFormat.stripSignLiterals(o);const m=f(o);if(m!=null)return this.currencyFormat.insertCurrency(m,n);const[d,...g]=o.split(this.currencyFormat.decimalSymbol),r=K(this.currencyFormat.onlyDigits(d)),a=this.currencyFormat.onlyDigits(g.join("")).substring(0,this.currencyFormat.maximumFractionDigits),l=g.length>0&&a.length===0,p=r===""&&n&&(this.currencyFormat.minusSign===void 0?t===e.slice(0,-2)+this.currencyFormat.negativeSuffix:t===e.slice(0,-1));return l||p||s(r)?t:r.match(/\d+/)?{numberValue:+`${n?"-":""}${r}.${a}`,fractionDigits:a}:""}}class ee extends X{conformToMask(e,t=""){if(e===""||this.currencyFormat.parse(t)===0&&this.currencyFormat.stripCurrency(t,!0).slice(0,-1)===this.currencyFormat.stripCurrency(e,!0))return"";const n=this.currencyFormat.isNegative(e),s=this.currencyFormat.stripSignLiterals(e)===""?-0:+`${n?"-":""}${K(this.currencyFormat.onlyDigits(e))}`/Math.pow(10,this.currencyFormat.maximumFractionDigits);return{numberValue:s,fractionDigits:s.toFixed(this.currencyFormat.maximumFractionDigits).slice(-this.currencyFormat.maximumFractionDigits)}}}const te={locale:void 0,currency:void 0,currencyDisplay:void 0,hideGroupingSeparatorOnFocus:!0,hideCurrencySymbolOnFocus:!0,hideNegligibleDecimalDigitsOnFocus:!0,precision:void 0,autoDecimalDigits:!1,valueRange:void 0,useGrouping:void 0,valueScaling:void 0};class ie{constructor(e){this.el=e.el,this.onInput=e.onInput,this.onChange=e.onChange,this.addEventListener(),this.init(e.options)}setOptions(e){this.init(e),this.format(this.currencyFormat.format(this.validateValueRange(this.numberValue))),this.onChange(this.getValue())}getValue(){return{number:this.valueScaling&&this.numberValue!=null?this.toInteger(this.numberValue,this.valueScaling):this.numberValue,formatted:this.formattedValue}}setValue(e){const t=this.valueScaling!==void 0&&e!=null?this.toFloat(e,this.valueScaling):e;t!==this.numberValue&&(this.format(this.currencyFormat.format(this.validateValueRange(t))),this.onChange(this.getValue()))}init(e){this.options={...te,...e},this.options.autoDecimalDigits&&(this.options.hideNegligibleDecimalDigitsOnFocus=!1),this.el.getAttribute("inputmode")||this.el.setAttribute("inputmode",this.options.autoDecimalDigits?"numeric":"decimal"),this.currencyFormat=new Q(this.options),this.numberMask=this.options.autoDecimalDigits?new ee(this.currencyFormat):new _(this.currencyFormat);const t={[V.precision]:this.currencyFormat.maximumFractionDigits,[V.thousands]:3,[V.tenThousands]:4,[V.millions]:6,[V.billions]:9};this.valueScaling=this.options.valueScaling?t[this.options.valueScaling]:void 0,this.valueScalingFractionDigits=this.valueScaling!==void 0&&this.options.valueScaling!==V.precision?this.valueScaling+this.currencyFormat.maximumFractionDigits:this.currencyFormat.maximumFractionDigits,this.minValue=this.getMinValue(),this.maxValue=this.getMaxValue()}getMinValue(){var e,t;let n=this.toFloat(-Number.MAX_SAFE_INTEGER);return((e=this.options.valueRange)===null||e===void 0?void 0:e.min)!==void 0&&(n=Math.max((t=this.options.valueRange)===null||t===void 0?void 0:t.min,this.toFloat(-Number.MAX_SAFE_INTEGER))),n}getMaxValue(){var e,t;let n=this.toFloat(Number.MAX_SAFE_INTEGER);return((e=this.options.valueRange)===null||e===void 0?void 0:e.max)!==void 0&&(n=Math.min((t=this.options.valueRange)===null||t===void 0?void 0:t.max,this.toFloat(Number.MAX_SAFE_INTEGER))),n}toFloat(e,t){return e/Math.pow(10,t??this.valueScalingFractionDigits)}toInteger(e,t){return Number(e.toFixed(t??this.valueScalingFractionDigits).split(".").join(""))}validateValueRange(e){return e!=null?Math.min(Math.max(e,this.minValue),this.maxValue):e}format(e,t=!1){if(e!=null){this.decimalSymbolInsertedAt!==void 0&&(e=this.currencyFormat.normalizeDecimalSeparator(e,this.decimalSymbolInsertedAt),this.decimalSymbolInsertedAt=void 0);const n=this.numberMask.conformToMask(e,this.formattedValue);let s;if(typeof n=="object"){const{numberValue:f,fractionDigits:o}=n;let{maximumFractionDigits:m,minimumFractionDigits:d}=this.currencyFormat;this.focus?d=t?o.replace(/0+$/,"").length:Math.min(m,o.length):Number.isInteger(f)&&!this.options.autoDecimalDigits&&(this.options.precision===void 0||d===0)&&(d=m=0),s=this.toInteger(Math.abs(f))>Number.MAX_SAFE_INTEGER?this.formattedValue:this.currencyFormat.format(f,{useGrouping:this.options.useGrouping!==!1&&!(this.focus&&this.options.hideGroupingSeparatorOnFocus),minimumFractionDigits:d,maximumFractionDigits:m})}else s=n;this.maxValue<=0&&!this.currencyFormat.isNegative(s)&&this.currencyFormat.parse(s)!==0&&(s=s.replace(this.currencyFormat.prefix,this.currencyFormat.negativePrefix)),this.minValue>=0&&(s=s.replace(this.currencyFormat.negativePrefix,this.currencyFormat.prefix)),(this.options.currencyDisplay===k.hidden||this.focus&&this.options.hideCurrencySymbolOnFocus)&&(s=s.replace(this.currencyFormat.negativePrefix,this.currencyFormat.minusSign!==void 0?this.currencyFormat.minusSign:"(").replace(this.currencyFormat.negativeSuffix,this.currencyFormat.minusSign!==void 0?"":")").replace(this.currencyFormat.prefix,"").replace(this.currencyFormat.suffix,"")),this.el.value=s,this.numberValue=this.currencyFormat.parse(s)}else this.el.value="",this.numberValue=null;this.formattedValue=this.el.value,this.onInput(this.getValue())}addEventListener(){this.el.addEventListener("input",e=>{const{value:t,selectionStart:n}=this.el,s=e;if(n&&s.data&&j.includes(s.data)&&(this.decimalSymbolInsertedAt=n-1),this.format(t),this.focus&&n!=null){const f=()=>{const{prefix:o,suffix:m,decimalSymbol:d,maximumFractionDigits:g,groupingSymbol:r}=this.currencyFormat;let a=t.length-n;const l=this.formattedValue.length;if(this.currencyFormat.minusSign===void 0&&(t.startsWith("(")||t.startsWith("-"))&&!t.endsWith(")"))return l-this.currencyFormat.negativeSuffix.length>1?this.formattedValue.substring(n).length:1;if(this.formattedValue.substring(n,1)===r&&G(this.formattedValue,r)===G(t,r)+1)return l-a-1;if(l<a)return n;if(d!==void 0&&t.indexOf(d)!==-1){const p=t.indexOf(d)+1;if(Math.abs(l-t.length)>1&&n<=p)return this.formattedValue.indexOf(d)+1;!this.options.autoDecimalDigits&&n>p&&this.currencyFormat.onlyDigits(t.substring(p)).length-1===g&&(a-=1)}return this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===k.hidden?l-a:Math.max(l-Math.max(a,m.length),o.length)};this.setCaretPosition(f())}}),this.el.addEventListener("focus",()=>{this.focus=!0,this.numberValueOnFocus=this.numberValue,setTimeout(()=>{const{value:e,selectionStart:t,selectionEnd:n}=this.el;if(this.format(e,this.options.hideNegligibleDecimalDigitsOnFocus),t!=null&&n!=null&&Math.abs(t-n)>0)this.setCaretPosition(0,this.el.value.length);else if(t!=null){const s=this.getCaretPositionOnFocus(e,t);this.setCaretPosition(s)}})}),this.el.addEventListener("blur",()=>{this.focus=!1,this.format(this.currencyFormat.format(this.validateValueRange(this.numberValue))),this.numberValueOnFocus!==this.numberValue&&this.onChange(this.getValue())})}getCaretPositionOnFocus(e,t){if(this.numberValue==null)return t;const{prefix:n,negativePrefix:s,suffix:f,negativeSuffix:o,groupingSymbol:m,currency:d}=this.currencyFormat,g=this.numberValue<0,r=g?s:n,a=r.length;if(this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===k.hidden){if(g){if(t<=1)return 1;if(e.endsWith(")")&&t>e.indexOf(")"))return this.formattedValue.length-1}}else{const p=g?o.length:f.length;if(t>=e.length-p)return this.formattedValue.length-p;if(t<a)return a}let l=t;return this.options.hideCurrencySymbolOnFocus&&this.options.currencyDisplay!==k.hidden&&t>=a&&d!==void 0&&r.includes(d)&&(l-=a,g&&(l+=1)),this.options.hideGroupingSeparatorOnFocus&&m!==void 0&&(l-=G(e.substring(0,t),m)),l}setCaretPosition(e,t=e){this.el.setSelectionRange(e,t)}}const ne=i=>i!=null&&i.matches("input")?i:i==null?void 0:i.querySelector("input");function se(i,e){var t,n,s,f;let o;const m=M(null),d=M(null),g=M(null),r=H(),a=(r==null?void 0:r.emit)||((n=(t=r==null?void 0:r.proxy)===null||t===void 0?void 0:t.$emit)===null||n===void 0?void 0:n.bind(r==null?void 0:r.proxy)),l=(r==null?void 0:r.props)||((s=r==null?void 0:r.proxy)===null||s===void 0?void 0:s.$props),p=U.startsWith("3"),h=p&&((f=r==null?void 0:r.attrs.modelModifiers)===null||f===void 0?void 0:f.lazy),v=z(()=>l==null?void 0:l[p?"modelValue":"value"]),I=p?"update:modelValue":"input",N=h?"update:modelValue":"change";return B(m,c=>{var $;if(c){const R=ne(($=c==null?void 0:c.$el)!==null&&$!==void 0?$:c);R?(o=new ie({el:R,options:i,onInput:F=>{!h&&e!==!1&&v.value!==F.number&&(a==null||a(I,F.number)),g.value=F.number,d.value=F.formatted},onChange:F=>{a==null||a(N,F.number)}}),o.setValue(v.value)):console.error('No input element found. Please make sure that the "inputRef" template ref is properly assigned.')}else o=null}),{inputRef:m,numberValue:g,formattedValue:d,setValue:c=>o==null?void 0:o.setValue(c),setOptions:c=>o==null?void 0:o.setOptions(c)}}const re=["for"],ae={key:0,class:"text-red-900",textContent:"*"},oe={class:"flex w-full"},le={key:0,class:"flex h-full bg-gray-200 px-3"},ue={class:"whitespace-no-wrap text-grey-dark flex items-center font-medium"},ce=["id","type","value","placeholder","autocomplete","name","disabled","readonly","pattern","inputmode"],me={key:0,class:"flex h-full font-medium"},fe={__name:"TextField",props:{modelValue:{type:[String,Number],default:null},id:{type:String,default:void 0},height:{type:String,default:"h-[44px]"},bg:{type:String,default:"bg-gray-150"},debounce:{type:Number,default:0},mode:{type:String,default:void 0},autocomplete:{type:String,default:"on"},prepend:{type:String,default:""},append:{type:String,default:""},appendBg:{type:String,default:"bg-black-75"},label:{type:String,default:""},name:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},rules:{type:String,default:""},immediate:{type:Boolean,default:!1},hideMessage:{type:Boolean,default:!1},autoHideMessage:{type:Boolean,default:!1},isMoney:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},precision:{type:Number,default:0},labelColor:{type:String,default:"text-gray-800"},labelSize:{type:String,default:"text-[12px]"},textSize:{type:String,default:"text-[14px]"},customError:{type:String,default:""},customSuccess:{type:String,default:""},moneyTextLeft:{type:Boolean,default:!1},currencyFieldOptions:{type:Object,default:()=>({currency:"IDR",locale:"id-ID",useGrouping:!0,precision:0,hideGroupingSeparatorOnFocus:!1})},rounded:{type:String,default:"rounded-input"},errorMessageReplace:{type:String,default:""},isCustomErrorYellow:{type:Boolean,default:!1}},emits:["input","keyup","keydown","change","focus","blur","update:modelValue"],setup(i,{emit:e}){const t=i,{value:n,errorMessage:s}=Z(t.name||t.label||t.placeholder,t.rules,{initialValue:t.modelValue,validateOnMount:t.immediate});let f=M(null),o=M();const m=t.isMoney?se(t.currencyFieldOptions):{inputRef:M(null)},{inputRef:d}=m;if(t.isMoney){const{setOptions:u}=m;B(()=>t.currencyFieldOptions,S=>{t.isMoney&&u(S)})}B(()=>t.modelValue,u=>{n.value=u});const g=z(()=>t.id?t.id:t.name&&t.label?`${t.name}-${t.label}`:""),r=M(!1),a=z(()=>t.type==="password"?r.value?"text":"password":t.type),l=e;function p(u){if(l("input",u),t.isMoney)l("update:modelValue",u);else{const S=u.target;l("update:modelValue",S.value)}}function h(u){t.type==="number"&&q(u)}function v(u){l("keyup",u)}function I(u){l("keydown",u)}function N(u){l("change",u)}function c(u){l("focus",u)}function $(u){l("blur",u)}function R(u){if(t.type==="number"){u.stopPropagation(),u.preventDefault();const S=u.clipboardData,E=S==null?void 0:S.getData("Text");l("update:modelValue",E==null?void 0:E.replace(/\D/g,""))}}function F(){r.value=!r.value}return(u,S)=>{const E=Y;return b(),w("fieldset",{ref_key:"provider",ref:o,class:D(["w-full placeholder-black-400",{"mb-[3px]":!i.hideMessage}]),as:"fieldset"},[O("div",null,[P(u.$slots,"label",{},()=>[i.label?(b(),w("label",{key:0,ref_key:"labelRef",ref:f,for:y(g),class:D(`block font-medium ${i.labelSize} ${i.labelColor} mb-[10px]`)},[T(C(i.label)+" ",1),i.label&&i.rules.split("|").includes("required")?(b(),w("span",ae)):x("",!0)],10,re)):x("",!0)]),O("div",oe,[P(u.$slots,"prepend-outer"),O("div",{class:D(["relative flex w-full transform flex-wrap items-center overflow-hidden border-2 leading-base-scalev transition duration-100 ease-in-out focus-within:border-primary",[i.disabled?"bg-black-75 text-black-500":i.bg,{"border-red-600":(y(s)||i.customError)&&!i.isCustomErrorYellow},{"border-yellow-500":(y(s)||i.customError)&&i.isCustomErrorYellow},i.textSize,i.rounded]])},[P(u.$slots,"prepend",{},()=>[i.prepend?(b(),w("div",le,[O("span",ue,C(i.prepend),1)])):x("",!0)]),O("input",{id:y(g)?y(g):void 0,ref_key:"inputRef",ref:d,type:y(a),value:y(n),placeholder:i.placeholder,autocomplete:i.autocomplete,name:i.name||i.label||i.placeholder,disabled:i.disabled,readonly:i.readonly,"maximum-scale":"1",class:D(["relative w-px flex-1 flex-auto flex-shrink flex-grow focus:outline-none",[i.height,i.disabled?"bg-gray-50 text-black opacity-100":i.bg,i.type==="password"?"pl-[12px] pr-[34px]":"px-[12px]"]]),autocorrect:"off",pattern:y(a)==="number"?"*[0-9]":void 0,inputmode:y(a)==="number"?"numeric":void 0,min:"0",onChange:N,onKeypress:h,onPaste:R,onKeydown:I,onKeyup:v,onFocus:c,onBlur:$,onInput:p},null,42,ce),i.type==="password"?(b(),L(E,{key:0,icon:y(r)?"ic-no-eye":"ic-eye",class:"absolute right-[12px] cursor-pointer text-[19px] text-black-300",onClick:F},null,8,["icon"])):x("",!0),P(u.$slots,"append",{},()=>[i.append?(b(),w("div",me,[O("span",{class:D(`
                  whitespace-no-wrap
                  text-grey-dark
                  flex
                  items-center
                  px-3
                  ${i.appendBg}
                `)},C(i.append),3)])):x("",!0)])],2)]),!i.hideMessage&&!i.autoHideMessage||i.autoHideMessage&&y(s)||i.customError?(b(),w("span",{key:0,class:D(["break-word mb-[5px] mt-[5px] flex items-center",[!y(s)&&!i.customError&&"h-[3px]",i.labelSize,i.isCustomErrorYellow?"text-black-200":"text-red-900"]])},[y(s)||i.customError?(b(),L(E,{key:0,icon:"ic-exclamation",class:D(["ml-[1px] mr-[8px] text-[13px]",[i.isCustomErrorYellow?"text-yellow-500":"text-red-900"]])},null,8,["class"])):x("",!0),T(" "+C(i.errorMessageReplace||y(s)||i.customError||" "),1)],2)):x("",!0),i.customSuccess&&!y(s)?(b(),w("span",{key:1,class:D(["break-word mb-[5px] mt-[5px] flex items-center text-black-200",[!i.customSuccess&&"h-[3px]",i.labelSize]])},[i.customSuccess?(b(),L(E,{key:0,icon:"ic-exclamation",class:"ml-[1px] mr-[8px] text-[13px] text-green-600"})):x("",!0),T(" "+C(i.customSuccess),1)],2)):x("",!0)])],2)}}};export{fe as _};
